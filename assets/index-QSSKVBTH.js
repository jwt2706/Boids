(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function s(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(t){if(t.ep)return;t.ep=!0;const i=s(t);fetch(t.href,i)}})();const c=100;class p{constructor(o){this.p=o,this.position=this.p.createVector(this.p.random(this.p.width),this.p.random(this.p.height)),this.velocity=p5.Vector.random2D(),this.acceleration=this.p.createVector(),this.maxForce=.2,this.maxSpeed=4}edges(){this.position.x>this.p.width?this.position.x=0:this.position.x<0&&(this.position.x=this.p.width),this.position.y>this.p.height?this.position.y=0:this.position.y<0&&(this.position.y=this.p.height)}align(o){let s=50,e=this.p.createVector(),t=0;for(let i of o){let r=this.p.dist(this.position.x,this.position.y,i.position.x,i.position.y);i!=this&&r<s&&(e.add(i.velocity),t++)}return t>0&&(e.div(t),e.setMag(this.maxSpeed),e.sub(this.velocity),e.limit(this.maxForce)),e}cohesion(o){let s=50,e=this.p.createVector(),t=0;for(let i of o){let r=this.p.dist(this.position.x,this.position.y,i.position.x,i.position.y);i!=this&&r<s&&(e.add(i.position),t++)}return t>0&&(e.div(t),e.sub(this.position),e.setMag(this.maxSpeed),e.sub(this.velocity),e.limit(this.maxForce)),e}separation(o){let s=50,e=this.p.createVector(),t=0;for(let i of o){let r=this.p.dist(this.position.x,this.position.y,i.position.x,i.position.y);if(i!=this&&r<s){let h=p5.Vector.sub(this.position,i.position);h.div(r*r),e.add(h),t++}}return t>0&&(e.div(t),e.setMag(this.maxSpeed),e.sub(this.velocity),e.limit(this.maxForce)),e}flock(o){this.acceleration.add(this.align(o)),this.acceleration.add(this.cohesion(o)),this.acceleration.add(this.separation(o))}update(){this.position.add(this.velocity),this.velocity.add(this.acceleration),this.velocity.limit(this.maxSpeed),this.acceleration.mult(0)}show(){this.p.strokeWeight(8),this.p.stroke(255),this.p.point(this.position.x,this.position.y)}}const a=n=>{const o=[];n.setup=()=>{n.createCanvas(n.windowWidth,n.windowHeight);for(let s=0;s<c;s++)o.push(new p(n))},n.draw=()=>{n.background(0);for(let s of o)s.edges(),s.flock(o),s.update(),s.show()}};new p5(a);

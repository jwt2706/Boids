(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}})();const p=window.innerWidth<=640?25:100;class c{constructor(s){this.p=s,this.position=this.p.createVector(this.p.random(this.p.width),this.p.random(this.p.height)),this.velocity=p5.Vector.random2D(),this.acceleration=this.p.createVector(),this.maxForce=.2,this.maxSpeed=4}edges(){this.position.x>this.p.width?this.position.x=0:this.position.x<0&&(this.position.x=this.p.width),this.position.y>this.p.height?this.position.y=0:this.position.y<0&&(this.position.y=this.p.height)}align(s){let o=50,e=this.p.createVector(),t=0;for(let i of s){let r=this.p.dist(this.position.x,this.position.y,i.position.x,i.position.y);i!=this&&r<o&&(e.add(i.velocity),t++)}return t>0&&(e.div(t),e.setMag(this.maxSpeed),e.sub(this.velocity),e.limit(this.maxForce)),e}cohesion(s){let o=50,e=this.p.createVector(),t=0;for(let i of s){let r=this.p.dist(this.position.x,this.position.y,i.position.x,i.position.y);i!=this&&r<o&&(e.add(i.position),t++)}return t>0&&(e.div(t),e.sub(this.position),e.setMag(this.maxSpeed),e.sub(this.velocity),e.limit(this.maxForce)),e}separation(s){let o=50,e=this.p.createVector(),t=0;for(let i of s){let r=this.p.dist(this.position.x,this.position.y,i.position.x,i.position.y);if(i!=this&&r<o){let n=p5.Vector.sub(this.position,i.position);n.div(r*r),e.add(n),t++}}return t>0&&(e.div(t),e.setMag(this.maxSpeed),e.sub(this.velocity),e.limit(this.maxForce)),e}flock(s){this.acceleration.add(this.align(s)),this.acceleration.add(this.cohesion(s)),this.acceleration.add(this.separation(s))}update(){this.position.add(this.velocity),this.velocity.add(this.acceleration),this.velocity.limit(this.maxSpeed),this.acceleration.mult(0)}show(){this.p.stroke(255),this.p.fill(255),this.p.push(),this.p.translate(this.position.x,this.position.y),this.p.rotate(this.velocity.heading()+this.p.PI/2),this.p.beginShape(),this.p.vertex(0,-8),this.p.vertex(-5,5),this.p.vertex(5,5),this.p.endShape(this.p.CLOSE),this.p.pop()}}const a=h=>{const s=[];h.setup=()=>{h.createCanvas(h.windowWidth,h.windowHeight);for(let o=0;o<p;o++)s.push(new c(h))},h.draw=()=>{h.background(0);for(let o of s)o.edges(),o.flock(s),o.update(),o.show()}};new p5(a);

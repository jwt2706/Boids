<!DOCTYPE html>
<html>
  <head>
    <title>Boids Simulation</title>
    <script>
      window.onload = function () {
        let allBoidsPositions = [];
        let index = 0;
        setInterval(() => {
          if (index < allBoidsPositions.length) {
            const svg = document.querySelector("svg");
            svg.innerHTML = allBoidsPositions[index]
              .map(
                (position) =>
                  `<circle r="5" fill="black" cx="${position.x}" cy="${position.y}" />`
              )
              .join("");
            index++;
          } else {
            fetch("/api/boids")
              .then((response) => response.json())
              .then((data) => {
                allBoidsPositions = data.all_boids_positions;
                index = 0;
              });
          }
        }, 250);
      };
    </script>
  </head>
  <body>
    <svg width="100vw" height="100vh"></svg>
  </body>
</html>
